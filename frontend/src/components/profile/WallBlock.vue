<template>
  <div class="wall-block">
    <h3>üìú –ì–∏–≥–∞—Å—Ç–µ–Ω–∫–∞</h3>
    <ul>
      <li v-for="post in wallPosts" :key="post.id">
        <p>{{ post.text }}</p>
        <span>{{ post.created_at }}</span>
      </li>
    </ul>
    <input v-model="newPost" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç..." />
    <button class="addPost">‚úèÔ∏è –ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞</button>
  </div>
</template>

<script setup>
import { ref, onMounted } from "vue";
import { useWallStore } from "@/store/wall";
const wallStore = useWallStore();
const { wallPosts, fetchWallPosts, addWallPost } = wallStore;
const newPost = ref("");

onMounted(fetchWallPosts);
const addPost = async () => {
  if (newPost.value.trim()) {
    await addWallPost(newPost.value);
    newPost.value = "";
  }
};
</script>
<style scoped>
.wall-block {
  border: 2px solid rgba(0, 0, 0, 0.692);
}

.addPost {
  position: sticky;
  top: 20px; /* –§–∏–∫—Å–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ –≤—ã—Å–æ—Ç–µ 10px –æ—Ç –≤–µ—Ä—Ö–∞ */
  background:transparent;
  color: white;
  padding: 10px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}


</style>

  



  
  